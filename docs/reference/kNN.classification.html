<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>k Nearest Neighbours Classification — kNN.classification • pbcm</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="k Nearest Neighbours Classification — kNN.classification" />
<meta property="og:description" content="Carry out \(k\) Nearest Neighbours (\(k\)-NN) classification on the results of a parametric boostrap." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pbcm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">An introduction to pbcm</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hkauhanen/pbcm/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>k Nearest Neighbours Classification</h1>
    <small class="dont-index">Source: <a href='https://github.com/hkauhanen/pbcm/blob/master/R/kNN.classification.R'><code>R/kNN.classification.R</code></a></small>
    <div class="hidden name"><code>kNN.classification.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Carry out \(k\) Nearest Neighbours (\(k\)-NN) classification on the results of a parametric boostrap.</p>
    </div>

    <pre class="usage"><span class='fu'>kNN.classification</span>(<span class='no'>df</span>, <span class='no'>DeltaGoF.emp</span>, <span class='no'>k</span>, <span class='kw'>ties</span> <span class='kw'>=</span> <span class='st'>"model2"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>Results of bootstrap; the output of <code><a href='pbcm.di.html'>pbcm.di</a></code> or <code><a href='pbcm.du.html'>pbcm.du</a></code></p></td>
    </tr>
    <tr>
      <th>DeltaGoF.emp</th>
      <td><p>Empirical value of goodness of fit (e.g. from <code><a href='empirical.GoF.html'>empirical.GoF</a></code>)</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>Number of neighbours to employ in classification; may be a vector of integers</p></td>
    </tr>
    <tr>
      <th>ties</th>
      <td><p>Which way should ties (when distance to the two distributions is equal) be broken? By default, we break in favour of model 2, taking this to be the null model in the comparison.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>TRUE</code>, warnings are issued to the console</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing the computed distances and decisions, one row per each value of <code>k</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Calculates the cumulative distance (sum of squared differences) of <code>DeltaGoF.emp</code> to both <code>DeltaGoF</code> distributions found in <code>df</code> (i.e. one with model 1 as generator and one with model 2 as generator), taking into account the <code>k</code> nearest neighbours only. Decides in favour of model 1 if this cumulative distance to the model 1 distribution is smaller than than the distance to model 2, and vice versa. If distances are equal, decision is made according to the <code>ties</code> argument.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Schultheis, H. &amp; Singhaniya, A. (2015) Decision criteria for model comparison using the parametric bootstrap cross-fitting method. <em>Cognitive Systems Research</em>, 33, 100–121. <a href='https://doi.org/10.1016/j.cogsys.2014.09.003'>https://doi.org/10.1016/j.cogsys.2014.09.003</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='empirical.GoF.html'>empirical.GoF</a></code>, <code><a href='pbcm.di.html'>pbcm.di</a></code>, <code><a href='pbcm.du.html'>pbcm.du</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='kw'>from</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>to</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>length.out</span><span class='kw'>=</span><span class='fl'>100</span>)
<span class='no'>mockdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>x</span> + <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span>, <span class='fl'>0</span>, <span class='fl'>0.5</span>))

<span class='no'>myfitfun</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>data</span>, <span class='no'>p</span>) {
  <span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/nls.html'>nls</a></span>(<span class='no'>y</span>~<span class='no'>a</span>*<span class='no'>x</span>^<span class='no'>p</span>, <span class='no'>data</span>, <span class='kw'>start</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>1.1</span>))
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span>(<span class='no'>res</span>), <span class='kw'>GoF</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/deviance.html'>deviance</a></span>(<span class='no'>res</span>))
}

<span class='no'>mygenfun</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>model</span>, <span class='no'>p</span>) {
  <span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='kw'>from</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>to</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>length.out</span><span class='kw'>=</span><span class='fl'>100</span>)
  <span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='no'>model</span>$<span class='no'>a</span>*<span class='no'>x</span>^<span class='no'>p</span> + <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span>, <span class='fl'>0</span>, <span class='fl'>0.5</span>)
  <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>y</span>)
}

<span class='no'>pb</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pbcm.di.html'>pbcm.di</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>mockdata</span>, <span class='kw'>fun1</span><span class='kw'>=</span><span class='no'>myfitfun</span>, <span class='kw'>fun2</span><span class='kw'>=</span><span class='no'>myfitfun</span>, <span class='kw'>genfun1</span><span class='kw'>=</span><span class='no'>mygenfun</span>,
        <span class='kw'>genfun2</span><span class='kw'>=</span><span class='no'>mygenfun</span>, <span class='kw'>reps</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>args1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>1</span>), <span class='kw'>args2</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>2</span>),
        <span class='kw'>genargs1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>1</span>), <span class='kw'>genargs2</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>2</span>))</div><div class='output co'>#&gt; Initializing output data frame...
#&gt; Bootstrapping...
#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |====                                                                  |   5%  |                                                                              |=======                                                               |  10%  |                                                                              |==========                                                            |  15%  |                                                                              |==============                                                        |  20%  |                                                                              |==================                                                    |  25%  |                                                                              |=====================                                                 |  30%  |                                                                              |========================                                              |  35%  |                                                                              |============================                                          |  40%  |                                                                              |================================                                      |  45%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  55%  |                                                                              |==========================================                            |  60%  |                                                                              |==============================================                        |  65%  |                                                                              |=================================================                     |  70%  |                                                                              |====================================================                  |  75%  |                                                                              |========================================================              |  80%  |                                                                              |============================================================          |  85%  |                                                                              |===============================================================       |  90%  |                                                                              |==================================================================    |  95%  |                                                                              |======================================================================| 100%</div><div class='input'>
<span class='no'>emp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='empirical.GoF.html'>empirical.GoF</a></span>(<span class='no'>mockdata</span>, <span class='kw'>fun1</span><span class='kw'>=</span><span class='no'>myfitfun</span>, <span class='kw'>fun2</span><span class='kw'>=</span><span class='no'>myfitfun</span>,
                     <span class='kw'>args1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>1</span>), <span class='kw'>args2</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>p</span><span class='kw'>=</span><span class='fl'>2</span>))

<span class='fu'>kNN.classification</span>(<span class='kw'>df</span><span class='kw'>=</span><span class='no'>pb</span>, <span class='kw'>DeltaGoF.emp</span><span class='kw'>=</span><span class='no'>emp</span>$<span class='no'>DeltaGoF</span>, <span class='kw'>k</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>10</span>, <span class='fl'>20</span>))</div><div class='output co'>#&gt;    k dist_model1 dist_model2 decision
#&gt; 1 10     19.5711     73.4745   model1
#&gt; 2 20    112.9116    342.9465   model1</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Henri Kauhanen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


